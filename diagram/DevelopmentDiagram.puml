@startuml
title Deployment Diagram - Smart Room Occupancy System (Bun Runtime)

skinparam componentStyle uml2
skinparam node {
    BackgroundColor LightBlue
    BorderColor DarkBlue
}

node "IoT Edge Device" <<Device>> {
    node "ESP32 Microcontroller" {
        [PIR Sensor Module] as PIR
        [HTTP Client] as HttpClient
    }
}

node "Application Server" <<Execution Environment (Bun)>> {
    package "Backend Suite" {
        [ElysiaJS API] as Elysia
        [WebSocket Server] as WS
        [Prisma ORM] as Prisma
    }
    database "SQLite Engine" {
        file "storage.db" as DBFile
    }
}

node "Client Workstation" <<PC/Mobile>> {
    node "Web Browser" {
        [Next.js Frontend] as Next
    }
}

' Relationships
PIR -right-> HttpClient : provides data
HttpClient --(0-- Elysia : HTTP POST /api/update-status
Next --(0-- Elysia : REST API Requests
WS <..> Next : WebSocket (Real-time Sync)
Elysia ..> Prisma : data mapping
Prisma -- DBFile : SQL / File System

@enduml